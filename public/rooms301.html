<!doctype html>
<html lang="en">
    <head>
        <title>FAST Learning and Development Center</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
            <!-- Favicon -->
        <link href="/images/LOGO.png" rel="icon" style="border-radius:10%">
        <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700,900|Rubik:300,400,700" rel="stylesheet">
        
        <link rel="stylesheet" href="css/bootstrap.css">
        <link rel="stylesheet" href="css/animate.css">
        <link rel="stylesheet" href="css/owl.carousel.min.css">
        
        <link rel="stylesheet" href="fonts/ionicons/css/ionicons.min.css">
        <link rel="stylesheet" href="fonts/fontawesome/css/font-awesome.min.css">
        <link rel="stylesheet" href="css/magnific-popup.css">
        
        <!-- Theme Style -->
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="sneat/assets/vendor/libs/swiper/swiper.css" />
        <link rel="stylesheet" href="sneat/assets/vendor/css/pages/ui-carousel.css">
        <link rel="stylesheet" href="sneat/assets/vendor/libs/rateyo/rateyo.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

      </head>
  <body>
    
    <header role="banner">
        <nav class="navbar navbar-expand-md navbar-dark bg-light">
          <div class="container">
            <a class="navbar-brand" href="index"><img src="/images/LOGO.png" alt="" style="height: 50px;"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample05" aria-controls="navbarsExample05" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
      
            <div class="collapse navbar-collapse navbar-light" id="navbarsExample05">
              <ul class="navbar-nav ml-auto pl-lg-5 pl-0">
                <li class="nav-item">
                  <a class="nav-link" href="index">Home</a>
                </li>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="rooms" id="dropdown04" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Rooms</a>
                  <div class="dropdown-menu" aria-labelledby="dropdown04">
                    <a class="dropdown-item" href="rooms">All Rooms</a>
                    <a class="dropdown-item" href="rooms301">Room 301</a>
                    <a class="dropdown-item" href="rooms302">Room 302</a>
                    <a class="dropdown-item" href="rooms303">Room 303</a>
                    <a class="dropdown-item" href="rooms304">Room 304</a>
                    <a class="dropdown-item" href="roomsCon1">Conference Room 1</a>
                    <a class="dropdown-item" href="roomsCon2">Conference Room 2</a>
                    <a class="dropdown-item" href="roomsIT">IT Room</a>
                  </div>
      
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="about">About</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="contact">Contact</a>
                </li>
      
                 <li class="nav-item cta">
                  <a class="nav-link" href="rooms"><span>Book Now</span></a>
                </li>
              </ul>
              
            </div>
          </div>
        </nav>
      </header>
    <!-- END header -->

    <section class="site-hero site-hero-innerpage overlay" data-stellar-background-ratio="0.5" style="background-image: url(images/bg_picture.jpg);">
      <div class="container">
        <div class="row align-items-center site-hero-inner justify-content-center">
          <div class="col-md-12 text-center">

            <div class="mb-5 element-animate">
              <h1>Reservation</h1>
              <p>Book the perfect training and conference room for your needs!</p>
            </div>

          </div>
        </div>
      </div>
    </section>
    <!-- END section -->

    <section class="site-section">
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <h2 class="mb-5">Reservation Form</h2>
            <form action="#" method="post" id="bookingForm">

              <div class="row">
                <div class="col-md-6">
                  <label for="guest">First Name</label>
                  <input type="text" class="form-control" id="fname" name="fname" required>
                </div>
                <div class="col-md-6">
                  <label for="contact">Last Name</label>
                  <input type="text" class="form-control" id="lname" name="lname" required>
                </div>
              </div>
              <!-- onfocus="this.min=new Date().toISOString().split('T')[0]" -->
              <div class="row">
                <div class="col-sm-6">
                  <label for="">Date of Reservation</label>
                  <input type="date" class="form-control" id="reserve_date" name="reserve_date"  required/>
                </div>
                <div class="col-sm-6 form-group">
                  <label for="businessunit">Time</label>
                  <select name="time" id="time" class="form-control" required>
                    <option value="7:00AM-12:00PM">HALFDAY (7:00AM-12:00PM)</option>
                    <option value="1:00PM-6:00PM">HALFDAY (1:00PM-6:00PM)</option>
                    <option value="7:00AM-6:00PM">WHOLE DAY (7:00AM-6:00PM)</option>
                  </select>
                </div>
               
              </div>

              <div class="row">
                <div class="col-sm-6">
                  <label for="setup">Seating Arrangement: <a id="previewLink" href="#" target="_blank" style="margin-left: 10px; text-decoration: none; color: blue;">Preview</a>
                  </label>
                    <select name="setup" id="setup" class="form-control">
                      <option value="CLASSROOM" data-img="images/CLASSROOM SETUP-Photoroom.png" selected>CLASS ROOM</option>
                      <option value="FISHBONE" data-img="images/FISH BONE SETUP-Photoroom.png">FISHBONE</option>
                      <option value="THEATER" data-img="images/THEATER SETUP-Photoroom.png">THEATER</option>
                      <option value="U-SHAPE" data-img="images/U-SHAPE SETUP-Photoroom.png">U-SHAPE</option>
                      <option value="CONFERENCE" data-img="images/CONFERENCE SETUP-Photoroom.png">CONFERENCE</option>
                      <option value="OTHER">OTHER</option>
                    </select>
                </div>
                <div class="col-sm-6 form-group">     
                  <label for="businessunit">Business Unit</label>
                  <select name="businessunit" id="businessunit" class="form-control">
                    <option value="FLC">FAST LOGISTICS CORPORATION</option>
                    <option value="FSC">FAST SERVICES CORPORATION</option>
                    <option value="FTMC">FAST TOLL MANUFACTURING CORPORATION</option>
                    <option value="FCSI">FAST COLDCHAIN SOLUTION INC.</option>
                    <option value="FDC">FAST DISTRIBUTION CORPORATION</option>
                    <option value="FUI">FAST UNIMERCHANT INC.</option>
                    <option value="other">OTHER</option>
                  </select>
                </div>
                <input type="hidden" name="room" id="room" value="Room-301">

               
              </div>
            
              <div class="row">
                <div class="col-md-6 form-group">
                  <label for="guest">Guests</label>
                  <select name="guest" id="guest" class="form-control" disabled>
                    <option value="20">20 Guest</option>
                  </select>
                </div>
                <div class="col-md-6 form-group">
                  <label for="contact">Contact No.</label>
                  <input type="contact" id="contact" name="contact" class="form-control" required>
                </div>
              </div>

              <div class="row">
                <div class="col-md-12 form-group">
                  <label for="email">Email</label>
                  <input type="email" id="email" name="email" class="form-control" required>
                </div>
              </div>
            
              <label for="addons">Addons <input type="checkbox" id="showExtras" onclick="toggleExtras()"></label>
              <div class="row d-none" id="extras" >
                  <div class="col-md-6">
                    <label><input type="checkbox" name="hdmi" id="hdmi"> HDMI cable</label>
                  </div>
                  <div class="col-md-6">
                    <label><input type="checkbox" name="extension" id="extension"> Extension cord</label>
                  </div>
                  <div class="col-md-6">
                    <label for="table">Additional Tables:</label>
                    <select name="table" id="table" class="form-control">
                      <option value="" disabled selected>Select the number of tables</option>
                      <option value="0">0</option>
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5</option>
                      <option value="6">6</option>
                      <option value="7">7</option>
                      <option value="8">8</option>
                      <option value="9">9</option>
                      <option value="10">10</option>
                    </select>
                  </div>
                  <div class="col-md-6">
                    <label for="chair">Additional Chairs:</label>
                    <select name="chair" id="chair" class="form-control">
                      <option value="" disabled selected>Select the number of chairs</option>
                      <option value="0">0</option>
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5</option>
                      <option value="6">6</option>
                      <option value="7">7</option>
                      <option value="8">8</option>
                      <option value="9">9</option>
                      <option value="10">10</option>
                    </select>
                  </div>
              </div>
              <div class="row">
                <div class="col-md-12 form-group">
                  <label for="message">Purpose / Message</label>
                  <textarea name="message" id="message" class="form-control" cols="30" rows="8" required></textarea>
                </div>
              </div>
            
              <div class="row">
                <div class="col-md-6 form-group">
                  <input type="submit" value="Reserve Now" class="btn btn-primary">
                </div>
              </div>
            </form>
            
              </div>
              <div class="col-md-1"></div>
              <div class="col-md-5">
                <h3 class="mb-5">Featured Room</h3>
                <div class="media d-block room mb-0">
              <figure class="zoom">
                <img src="images/ROOM 301.jpg" alt="Generic placeholder image" class="img-fluid">
                <div class="overlap-text">
                  <span>
                    Featured Room 
                    <span class="ion-ios-star"></span>
                    <span class="ion-ios-star"></span>
                    <span class="ion-ios-star"></span>
                  </span>
                </div>
              </figure>
              <div class="media-body">
                <h3 class="mt-0"><a href="#">Room 301</a></h3>
                <p>Features:</p>
                <ul class="room-specs">
                  <li><span class="ion-ios-people-outline"></span> 20 Guests</li>
                  <li><span class="ion-ios-crop"></span> 22 ft <sup>2</sup></li>
                </ul>
                <ul>
                  <li><strong>Climate Control:</strong> Floor-standing air conditioning unit for optimal comfort</li>
                  <li><strong>Presentation Equipment:</strong>
                      <ul>
                          <li>Ceiling-mounted projector for clear visuals</li>
                          <li>Projector white screen for enhanced presentations</li>
                      </ul>
                  </li>
                  <li><strong>Furniture:</strong> Chairs and tables available upon request</li>
              </ul>
              <p>Usage:</p>
              <p>Suitable for meetings, presentations, small training programs or small groups conducting training sessions, and other events that accommodate the room's capacity.</p>              </div>
            </div>
              </div>
        </div>
      </div>
    </section>
    <!-- END section -->


   
   

    <section class="section-cover" data-stellar-background-ratio="0.5" style="background-image: url(images/bg_picture.jpg);">
      <div class="container">
        <div class="row justify-content-center align-items-center intro">
          <div class="col-md-9 text-center element-animate">
            <h2>Relax and Enjoy your Holiday</h2>
            <p class="lead mb-5">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Architecto quidem tempore expedita facere facilis, dolores!</p>
            <div class="btn-play-wrap"><a href="https://www.youtube.com/watch?v=ZueTIFrRH4k" class="btn-play popup-vimeo "><span class="ion-ios-play"></span></a></div>
          </div>
        </div>
      </div>
    </section>
    <!-- END section -->
   
    <div id="footer"></div>
    <!-- END footer -->
    
    <!-- loader -->
    <div id="loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#f4b214"/></svg></div>
    <!-- Include Flatpickr -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
          const bookingForm = document.getElementById('bookingForm');
          const reserveDateInput = document.getElementById('reserve_date');
          const timeSelect = document.getElementById('time');
          const originalTimeHTML = timeSelect.outerHTML; // Store the original HTML of the time select
    
          // Event listener for date change
          reserveDateInput.addEventListener('change', function () {
              const selectedDate = reserveDateInput.value;
              const selectedRoom = document.getElementById('room').value;
    
              fetchReservations(selectedRoom, selectedDate);
          });
    
          // Fetch reservations from the backend
          function fetchReservations(room, date) {
              fetch(`/api/reservations?room=${room}&date=${date}`)
                  .then(response => {
                      if (!response.ok) {
                          throw new Error(`HTTP error! Status: ${response.status}`);
                      }
                      return response.json();
                  })
                  .then(data => {
                      updateAvailability(data);
                  })
                  .catch(error => alert(`Error fetching reservations: ${error.message}`));
          }
    
          // Update the time options based on reservations
          function updateAvailability(reservations) {
              // Clear current time options
              while (timeSelect.firstChild) {
                  timeSelect.removeChild(timeSelect.firstChild);
              }
    
              // Initialize availability flags
              let isFullyBooked = false;
              let halfDayMorningBooked = false;
              let halfDayAfternoonBooked = false;
    
              // Check reservations
              reservations.forEach(reservation => {
                  const reservedTime = reservation.time;
    
                  if (reservedTime === "7:00AM-6:00PM") {
                      isFullyBooked = true;
                  } else if (reservedTime === "7:00AM-12:00PM") {
                      halfDayMorningBooked = true;
                  } else if (reservedTime === "1:00PM-6:00PM") {
                      halfDayAfternoonBooked = true;
                  }
              });
    
              // Populate available times
              const availableTimes = [
                  { value: "7:00AM-12:00PM", text: "HALFDAY (7:00AM-12:00PM)", remove: halfDayMorningBooked },
                  { value: "1:00PM-6:00PM", text: "HALFDAY (1:00PM-6:00PM)", remove: halfDayAfternoonBooked },
                  { value: "7:00AM-6:00PM", text: "WHOLE DAY (7:00AM-6:00PM)", remove: isFullyBooked }
              ];
    
              // Populate time select with available times
              availableTimes.forEach(time => {
                  if (!time.remove) {
                      const option = document.createElement('option');
                      option.value = time.value;
                      option.textContent = time.text;
                      timeSelect.appendChild(option);
                  }
              });
    
              // Handle fully booked condition
              if (isFullyBooked) {
                  if (document.getElementById('time') && timeSelect.parentNode) {
                      // Create a new input element
                      const inputElement = document.createElement('input');
                      inputElement.type = 'text';
                      inputElement.id = 'time';
                      inputElement.class = 'form-control';
                      inputElement.placeholder = 'FULLY BOOKED';
                      inputElement.disabled = true;
    
                      // Replace the time select with the new input element
                      timeSelect.parentNode.replaceChild(inputElement, timeSelect);
                  }
              } else {
                  // If not fully booked, ensure the time select is present
                  if (document.getElementById('time') && document.getElementById('time').type === 'text') {
                      // Create a new time select element
                      const newTimeSelect = document.createElement('select');
                      newTimeSelect.id = 'time';
                      newTimeSelect.className = 'form-control';
                      newTimeSelect.required = true;
    
                      // Re-add original options
                      availableTimes.forEach(time => {
                          if (!time.remove) {
                              const option = document.createElement('option');
                              option.value = time.value;
                              option.textContent = time.text;
                              newTimeSelect.appendChild(option);
                          }
                      });
    
                      // Replace the input element with the time select
                      const inputElement = document.getElementById('time');
                      if (inputElement && inputElement.parentNode) {
                          inputElement.parentNode.replaceChild(newTimeSelect, inputElement);
                      }
                  }
              }
          }
      });
    </script>
    
    

    

    </script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="js/book.js"></script>
    <script src="js/sec-min.js"></script>
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/jquery-migrate-3.0.0.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.stellar.min.js"></script>

    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/magnific-popup-options.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/js/bootstrap-datepicker.min.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>